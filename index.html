<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EliteGaming887 | Official Global Network</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;900&family=Inter:wght@400;700;900&display=swap');
        :root { --gold: #f59e0b; --dark: #01040a; }
        body { background: var(--dark); color: #f1f5f9; font-family: 'Inter', sans-serif; -webkit-tap-highlight-color: transparent; margin: 0; padding: 0;}
        .font-orbit { font-family: 'Orbitron', sans-serif; }
        .glass { background: rgba(15, 23, 42, 0.98); backdrop-filter: blur(25px); border: 1px solid rgba(255,215,0,0.1); }
        .gold-glow { text-shadow: 0 0 15px rgba(245, 158, 11, 0.4); color: var(--gold); }
        .hidden { display: none !important; }
        .animate-ticker { animation: ticker 35s linear infinite; white-space: nowrap; display: inline-block; }
        @keyframes ticker { 0% { transform: translateX(100%); } 100% { transform: translateX(-100%); } }
        .provider-card { transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); cursor: pointer; }
        .provider-card:active { transform: scale(0.92); }
    </style>
</head>
<body class="min-h-screen">

    <div id="noticeBar" class="hidden fixed top-0 w-full z-50 bg-black/90 py-2 border-b border-amber-500/20">
        <div class="animate-ticker text-amber-500 text-[10px] font-black uppercase italic tracking-widest">
            üî• EliteGaming887 Global: New Members Get 300% Bonus! | JILI, PG Soft, Pragmatic Play & Evolution Now Live! | Trusted Transactions 24/7!
        </div>
    </div>

    <div id="authBox" class="min-h-screen flex items-center justify-center p-6">
        <div class="w-full max-w-md glass p-10 rounded-[3rem] text-center border border-white/5 shadow-2xl">
            <h1 class="text-4xl font-black font-orbit gold-glow italic mb-2">ELITE 887</h1>
            <p class="text-[9px] text-slate-500 uppercase tracking-[0.4em] mb-10 font-black">International Casino Infrastructure</p>
            <div id="loginForm" class="space-y-4">
                <input id="email" type="email" placeholder="‡¶á‡¶Æ‡ßá‡¶á‡¶≤ ‡¶è‡¶°‡ßç‡¶∞‡ßá‡¶∏" class="w-full p-4 bg-black/50 border border-white/10 rounded-2xl outline-none focus:border-amber-500 text-sm">
                <input id="pass" type="password" placeholder="‡¶™‡¶æ‡¶∏‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶°" class="w-full p-4 bg-black/50 border border-white/10 rounded-2xl outline-none focus:border-amber-500 text-sm">
                <button onclick="handleAuth('login')" class="w-full py-4 bg-amber-500 text-black font-black rounded-2xl uppercase shadow-xl tracking-widest">Login Dashboard</button>
                <button onclick="toggleAuth('reg')" class="text-[10px] text-slate-500 font-bold uppercase mt-4">‡¶®‡¶§‡ßÅ‡¶® ‡¶è‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü ‡¶ñ‡ßÅ‡¶≤‡ßÅ‡¶®</button>
            </div>
            <div id="regForm" class="hidden space-y-4">
                <input id="regEmail" type="email" placeholder="‡¶®‡¶§‡ßÅ‡¶® ‡¶á‡¶Æ‡ßá‡¶á‡¶≤" class="w-full p-4 bg-black/50 border border-white/10 rounded-2xl outline-none focus:border-amber-500 text-sm">
                <input id="regPass" type="password" placeholder="‡¶®‡¶§‡ßÅ‡¶® ‡¶™‡¶æ‡¶∏‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶°" class="w-full p-4 bg-black/50 border border-white/10 rounded-2xl outline-none focus:border-amber-500 text-sm">
                <button onclick="handleAuth('reg')" class="w-full py-4 bg-emerald-500 text-black font-black rounded-2xl uppercase tracking-widest">Register Now</button>
                <button onclick="toggleAuth('login')" class="text-[10px] text-slate-500 font-bold uppercase mt-4 block mx-auto underline">Back to Login</button>
            </div>
        </div>
    </div>

    <div id="dashboard" class="hidden pt-20 pb-24 max-w-7xl mx-auto px-4">
        <header class="glass p-8 rounded-[3rem] mb-8 flex justify-between items-center border border-white/5 shadow-2xl">
            <div>
                <p id="uEmailDisp" class="text-[9px] text-slate-400 font-black mb-1 uppercase italic tracking-tighter">Premium VIP Player</p>
                <h1 id="uBalDisp" class="text-4xl font-black font-orbit gold-glow tracking-tighter">$ 0.00</h1>
            </div>
            <div class="flex gap-2">
                <button id="masterBtn" onclick="toggleAdmin(true)" class="hidden bg-red-600 px-4 py-2 rounded-xl text-[9px] font-black uppercase shadow-lg shadow-red-600/30">Master HQ</button>
                <button onclick="logout()" class="w-10 h-10 glass rounded-xl flex items-center justify-center text-red-500 border border-white/5"><i class="fas fa-power-off"></i></button>
            </div>
        </header>

        <section class="mb-10">
            <h3 class="font-orbit text-[10px] text-amber-500 font-black mb-6 tracking-[0.4em] uppercase flex items-center gap-2">
                <i class="fas fa-layer-group"></i> Game Providers Lobby
            </h3>
            <div id="providerContainer" class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4">
                </div>
        </section>

        <div class="grid grid-cols-2 gap-4">
            <button onclick="openWallet('deposit')" class="p-6 bg-amber-500 text-black font-black rounded-[2.5rem] uppercase text-xs shadow-xl active:scale-95 transition tracking-widest">Deposit</button>
            <button onclick="openWallet('withdraw')" class="p-6 bg-slate-900 text-white font-black rounded-[2.5rem] uppercase text-xs border border-white/10 active:scale-95 transition tracking-widest">Withdraw</button>
        </div>
    </div>

    <div id="providerLobby" class="hidden fixed inset-0 z-[100] bg-black flex flex-col">
        <div class="p-6 flex justify-between items-center bg-slate-900/80 border-b border-white/5 backdrop-blur-xl">
            <div>
                <h2 id="providerTitle" class="font-orbit text-amber-500 text-sm font-black uppercase italic tracking-widest">Lobby</h2>
                <p class="text-[8px] text-slate-500 uppercase tracking-[0.3em] font-bold">Secure Global Server Active</p>
            </div>
            <button onclick="closeLobby()" class="bg-red-600 px-6 py-2 rounded-xl text-[10px] font-black uppercase">Exit Lobby</button>
        </div>
        <div class="flex-1 overflow-y-auto p-6 grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4" id="gameGrid"></div>
    </div>

    <div id="adminPanel" class="hidden fixed inset-0 z-[110] bg-[#010206] p-6 overflow-y-auto">
        <div class="max-w-6xl mx-auto">
            <div class="flex justify-between items-center mb-10 border-b border-red-600/20 pb-8">
                <h1 class="text-2xl font-black font-orbit text-red-600 italic">ELITE887 MASTER HQ</h1>
                <button onclick="toggleAdmin(false)" class="bg-slate-900 px-6 py-3 rounded-2xl text-[9px] font-black border border-white/10">CLOSE MASTER PANEL</button>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-10">
                <div class="glass p-8 rounded-[2.5rem] border-l-4 border-amber-500 shadow-2xl">
                    <p class="text-[10px] text-amber-500 font-black uppercase mb-4 tracking-widest">Killer Mode (Win Rate Control)</p>
                    <select id="rtpMode" class="w-full bg-black p-4 rounded-xl text-xs text-white border border-amber-500/20 font-bold outline-none">
                        <option value="95">Normal Mode (95% Player Win)</option>
                        <option value="50">Strict Mode (50% Player Win)</option>
                        <option value="5">Killer Mode (5% Player Win)</option>
                        <option value="0">Profit Mode (Admin Wins 100%)</option>
                    </select>
                </div>
                <div class="glass p-8 rounded-[2.5rem] border-l-4 border-emerald-500 shadow-2xl">
                    <p class="text-[10px] text-emerald-500 font-black uppercase mb-4 tracking-widest">Payment & Gateway Settings</p>
                    <input id="setNo" type="text" placeholder="Bkash/Nagad No" class="w-full bg-black p-4 rounded-xl text-xs text-white border border-white/5 mb-4 font-bold outline-none">
                    <button onclick="saveHqSettings()" class="w-full bg-amber-500 py-4 rounded-xl text-black font-black uppercase text-xs shadow-lg">Save System Config</button>
                </div>
            </div>
            <div class="glass rounded-[2.5rem] overflow-hidden mb-10 shadow-2xl">
                <div class="p-6 bg-white/5 text-[10px] font-black text-amber-500 uppercase tracking-widest italic">Global User Database</div>
                <div class="p-6 overflow-x-auto">
                    <table class="w-full text-left text-[11px]">
                        <thead><tr class="text-slate-500 border-b border-white/5"><th class="pb-4">Email</th><th class="pb-4">Balance</th><th class="pb-4 text-right">Action</th></tr></thead>
                        <tbody id="fullUserList"></tbody>
                    </table>
                </div>
            </div>
            <div class="glass rounded-[2.5rem] overflow-hidden shadow-2xl">
                <div class="p-6 bg-white/5 text-[10px] font-black text-slate-500 uppercase italic">Live Pending Requests</div>
                <div id="adminQueue" class="p-6 space-y-4"></div>
            </div>
        </div>
    </div>

    <div id="modal" class="fixed inset-0 z-[200] bg-black/98 hidden flex items-center justify-center p-4">
        <div class="glass w-full max-w-sm p-10 rounded-[3.5rem] border border-amber-500/20 shadow-2xl">
            <h3 id="modalTitle" class="text-xl font-black font-orbit text-amber-500 mb-8 uppercase text-center tracking-widest italic">Wallet</h3>
            <div id="depSection" class="hidden mb-6 space-y-6">
                <div class="flex justify-around bg-black/80 p-4 rounded-3xl border border-white/5">
                    <img src="https://i.ibb.co/pZ8vK9X/bkash.png" class="w-8 h-8 object-contain">
                    <img src="https://i.ibb.co/Yp8nC8x/nagad.png" class="w-8 h-8 object-contain">
                    <img src="https://i.ibb.co/Prtv8M6/rocket.png" class="w-8 h-8 object-contain">
                </div>
                <div class="bg-black/90 p-6 rounded-3xl border-2 border-dashed border-amber-500/20 text-center">
                    <p class="text-[9px] text-slate-500 uppercase mb-2">Send Money To:</p>
                    <b id="adminPayNo" class="text-amber-500 text-xl font-orbit tracking-widest">017XXXXXXXX</b>
                </div>
                <input id="trxId" type="text" placeholder="Transaction ID (TrxID)" class="w-full p-4 bg-black border border-slate-800 rounded-2xl text-xs uppercase outline-none focus:border-amber-500 font-black">
            </div>
            <input id="amt" type="number" placeholder="Amount ($)" class="w-full p-4 bg-black border border-slate-800 rounded-2xl outline-none mb-6 text-white font-black text-center text-lg">
            <button onclick="submitReq()" class="w-full py-5 bg-amber-500 text-black font-black rounded-3xl uppercase text-[10px] shadow-xl tracking-widest">Process Transaction</button>
            <button onclick="closeModal()" class="w-full mt-4 text-[10px] text-slate-600 font-black uppercase underline">Cancel</button>
        </div>
    </div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getFirestore, doc, setDoc, getDoc, onSnapshot, updateDoc, collection, addDoc, deleteDoc } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";
        import { getAuth, signInWithEmailAndPassword, createUserWithEmailAndPassword, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";

        // Firebase Config (Keep these private)
        const firebaseConfig = {
            apiKey: "AIzaSyAj0SrEMzJDqMDbFetnWOGQJPIw7nuJANw",
            authDomain: "elitegaming1988-bda90.firebaseapp.com",
            projectId: "elitegaming1988-bda90",
            storageBucket: "elitegaming1988-bda90.firebasestorage.app",
            messagingSenderId: "244948783648",
            appId: "1:244948783648:web:120635dd33292626836245"
        };

        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);
        const auth = getAuth(app);
        
        // GLOBAL ADMIN IDENTITY
        const MASTER_ID = "elitegaming1988bd@gmail.com"; 

        // 12 International Providers
        const providers = [
            { name: "JILI", icon: "JL", count: 48, color: "amber" },
            { name: "PG SOFT", icon: "PG", count: 42, color: "emerald" },
            { name: "PRAGMATIC", icon: "PP", count: 65, color: "orange" },
            { name: "JDB", icon: "JD", count: 32, color: "blue" },
            { name: "EVOLUTION", icon: "EVO", count: 24, color: "red" },
            { name: "FA CHAI", icon: "FC", count: 18, color: "cyan" },
            { name: "SPRIBE", icon: "SP", count: 10, color: "pink" },
            { name: "CQ9", icon: "C9", count: 30, color: "indigo" },
            { name: "MICROGAMING", icon: "MG", count: 55, color: "lime" },
            { name: "PLAYTECH", icon: "PT", count: 40, color: "sky" },
            { name: "SA GAMING", icon: "SA", count: 15, color: "violet" },
            { name: "REDPOCKET", icon: "RP", count: 20, color: "rose" }
        ];

        // Generate UI Cards
        const container = document.getElementById('providerContainer');
        providers.forEach(p => {
            container.innerHTML += `
                <div onclick="openProvider('${p.name}', ${p.count})" class="provider-card glass p-6 rounded-[2.5rem] text-center border border-white/5 hover:border-${p.color}-500 shadow-xl">
                    <div class="w-12 h-12 bg-${p.color}-500/20 rounded-full flex items-center justify-center mx-auto mb-3 font-black text-${p.color}-500 font-orbit">${p.icon}</div>
                    <h4 class="text-[10px] font-black font-orbit text-white">${p.name}</h4>
                    <p class="text-[6px] text-slate-500 uppercase mt-1 tracking-widest font-black">${p.count * 15}+ Titles</p>
                </div>`;
        });

        // Auth and Realtime State
        onAuthStateChanged(auth, (user) => {
            if(user) {
                document.getElementById('authBox').classList.add('hidden');
                document.getElementById('dashboard').classList.remove('hidden');
                document.getElementById('noticeBar').classList.remove('hidden');
                onSnapshot(doc(db, "users", user.uid), (snap) => {
                    const d = snap.data();
                    if(d) {
                        document.getElementById('uEmailDisp').innerText = d.email;
                        document.getElementById('uBalDisp').innerText = "$ " + d.balance.toFixed(2);
                        if(d.email === MASTER_ID || d.role === 'admin') {
                            document.getElementById('masterBtn').classList.remove('hidden');
                            syncUsersHQ();
                        }
                    }
                });
                onSnapshot(doc(db, "system", "hq"), (snap) => {
                    const d = snap.data(); if(d) {
                        document.getElementById('adminPayNo').innerText = d.payNo;
                        document.getElementById('rtpMode').value = d.rtp;
                        document.getElementById('setNo').value = d.payNo;
                    }
                });
            } else {
                document.getElementById('authBox').classList.remove('hidden');
                document.getElementById('dashboard').classList.add('hidden');
                document.getElementById('noticeBar').classList.add('hidden');
            }
        });

        window.handleAuth = async (mode) => {
            const e = document.getElementById('email').value, p = document.getElementById('pass').value;
            try {
                if(mode === 'login') await signInWithEmailAndPassword(auth, e, p);
                else {
                    const re = document.getElementById('regEmail').value, rp = document.getElementById('regPass').value;
                    const res = await createUserWithEmailAndPassword(auth, re, rp);
                    await setDoc(doc(db, "users", res.user.uid), { email: re, balance: 100, role: (re === MASTER_ID ? 'admin' : 'user'), uid: res.user.uid });
                }
            } catch (err) { alert(err.message); }
        };
        window.toggleAuth = (m) => {
            document.getElementById('loginForm').classList.toggle('hidden', m === 'reg');
            document.getElementById('regForm').classList.toggle('hidden', m === 'login');
        };
        window.logout = () => signOut(auth);

        // Lobby Logic
        window.openProvider = (name, count) => {
            document.getElementById('providerTitle').innerText = name + " OFFICIAL LOBBY";
            document.getElementById('providerLobby').classList.remove('hidden');
            const grid = document.getElementById('gameGrid'); grid.innerHTML = "";
            for(let i=1; i<=count; i++) {
                grid.innerHTML += `
                    <div onclick="playGame('${name} SL-${i}')" class="glass rounded-3xl overflow-hidden border border-white/5 hover:border-amber-500 transition cursor-pointer group shadow-xl">
                        <div class="relative h-28"><img src="https://picsum.photos/300/400?random=${name}${i}" class="w-full h-full object-cover group-hover:scale-110 transition duration-500"></div>
                        <p class="p-2 text-[7px] font-black text-center uppercase tracking-tighter">${name} Super-${i}</p>
                    </div>`;
            }
        };
        window.closeLobby = () => document.getElementById('providerLobby').classList.add('hidden');

        // Admin Engine
        function syncUsersHQ() {
            onSnapshot(collection(db, "users"), (snap) => {
                const list = document.getElementById('fullUserList'); list.innerHTML = "";
                snap.forEach(d => {
                    const u = d.data();
                    list.innerHTML += `<tr class="border-b border-white/5">
                        <td class="py-4 text-slate-300 text-[9px] font-bold">${u.email}</td>
                        <td class="py-4 text-emerald-500 font-orbit font-bold text-[10px]">$${u.balance.toFixed(2)}</td>
                        <td class="py-4 text-right">
                            <button onclick="editPlayerBal('${d.id}', '${u.email}')" class="text-amber-500 text-[7px] font-black uppercase border border-amber-500/20 px-2 py-1 rounded">Edit</button>
                        </td>
                    </tr>`;
                });
            });
        }
        window.editPlayerBal = async (uid, email) => {
            const amt = prompt(`${email} ‡¶è‡¶∞ ‡¶®‡¶§‡ßÅ‡¶® ‡¶¨‡ßç‡¶Ø‡¶æ‡¶≤‡ßá‡¶®‡ßç‡¶∏:`);
            if(amt) await updateDoc(doc(db, "users", uid), { balance: parseFloat(amt) });
        };
        window.saveHqSettings = async () => {
            const payNo = document.getElementById('setNo').value, rtp = document.getElementById('rtpMode').value;
            await setDoc(doc(db, "system", "hq"), { payNo, rtp }); alert("HQ Settings Live Updated!");
        };

        // Money Logic
        let walletType = '';
        window.openWallet = (t) => {
            walletType = t; document.getElementById('modalTitle').innerText = t.toUpperCase();
            document.getElementById('depSection').classList.toggle('hidden', t !== 'deposit');
            document.getElementById('modal').classList.remove('hidden');
        };
        window.closeModal = () => document.getElementById('modal').classList.add('hidden');
        window.submitReq = async () => {
            const amount = parseFloat(document.getElementById('amt').value);
            const trx = document.getElementById('trxId').value;
            if(!amount || amount < 10) return alert("Min: $10");
            await addDoc(collection(db, "requests"), {
                uid: auth.currentUser.uid, email: auth.currentUser.email, amount, trx: trx || 'N/A', type: walletType, status: 'pending', time: new Date()
            });
            alert("Elite887: Request Dispatched to Admin HQ!"); closeModal();
        };

        window.toggleAdmin = (s) => {
            document.getElementById('adminPanel').classList.toggle('hidden', !s);
            if(s) {
                onSnapshot(collection(db, "requests"), (snap) => {
                    const list = document.getElementById('adminQueue'); list.innerHTML = "";
                    snap.forEach(d => {
                        const r = d.data(); if(r.status === 'pending') {
                            list.innerHTML += `<div class="p-6 glass rounded-[2.5rem] flex justify-between items-center border-l-4 border-amber-500 shadow-xl">
                                <div><b class="text-xs uppercase">${r.email}</b><br><span class="text-2xl font-black text-white font-orbit">$${r.amount}</span><br><span class="text-[8px] uppercase text-slate-500 font-black">${r.type} | TRX: ${r.trx}</span></div>
                                <div class="flex gap-2">
                                    <button onclick="approveReq('${d.id}', '${r.uid}', ${r.amount}, '${r.type}')" class="bg-emerald-600 px-6 py-2 rounded-xl text-black font-black text-[9px] shadow-lg">APPROVE</button>
                                    <button onclick="deleteDoc(doc(db, 'requests', '${d.id}'))" class="text-red-500 px-4 font-bold text-xs">X</button>
                                </div>
                            </div>`;
                        }
                    });
                });
            }
        };

        window.approveReq = async (id, uid, amt, type) => {
            const uRef = doc(db, "users", uid); const uSnap = await getDoc(uRef);
            let nBal = type === 'deposit' ? uSnap.data().balance + amt : uSnap.data().balance - amt;
            await updateDoc(uRef, { balance: nBal }); await updateDoc(doc(db, "requests", id), { status: 'approved' });
        };

        // The Killer Game Logic
        window.playGame = async (gameName) => {
            const hq = await getDoc(doc(db, "system", "hq"));
            const rtp = parseInt(hq.data().rtp);
            alert(`Connecting to ${gameName}...\nSystem Security: Admin RTP ${rtp}% Active.`);
            const win = (Math.random() * 100) < rtp;
            if(win) alert("CONGRATULATIONS! Big Win Captured."); else alert("HOUSE WINS. Better Luck Next Time.");
        };
    </script>
</body>
</html>
